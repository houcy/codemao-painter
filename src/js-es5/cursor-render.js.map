{"version":3,"sources":["../js/cursor-render.js"],"names":[],"mappings":"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","file":"cursor-render.js","sourcesContent":["/**\n * Created by greendou on 16/4/9.\n * Renderer of Cursor (Mostly for Pencil&Eraser)\n */\n\n(function () {\n    if(!fabric){\n        return;\n    }\n\n    function CursorRenderer (canvas, brush, options) {\n        \"use strict\";\n        this.canvas = canvas;\n        this.brush = brush;\n        this.ctx = canvas.getContext('2d');\n\n        if(options) {\n            this.width = options.width || 1;\n            this.color = options.color || 'black';\n        }else{\n            this.width = 1;\n            this.color = 'black';\n        }\n    }\n\n    CursorRenderer.prototype.prepareForRender = function() {\n        \"use strict\";\n        var ctx = this.ctx;\n        ctx.lineWidth = this.width;\n        ctx.strokeStyle = this.color;\n    };\n\n    CursorRenderer.prototype.renderCircle = function (x, y) {\n        var ctx = this.ctx,\n            width = this.brush.width;\n        ctx.fillStyle = 'rgba(255,255,255,0.5)';\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = 'black';\n        ctx.beginPath();\n        ctx.arc(x,y,width / 2,0,Math.PI*2,true);\n        ctx.stroke();\n        ctx.fill();\n        //ctx.beginPath();\n        //ctx.moveTo(width / 2 , 0);\n        //ctx.lineTo(width / 2, width);\n    };\n\n    CursorRenderer.prototype.renderPoint = function (x, y) {\n        var ctx = this.ctx;\n        ctx.fillStyle = 'rgba(255,255,255,0.5)';\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = 'black';\n        for(var i = 0;i < 20;i=i+2) {\n            ctx.beginPath();\n            ctx.arc(x,y,20,Math.PI*2 * i/20,Math.PI*2 * (i+1)/20,false);\n            ctx.stroke();\n        }\n        ctx.beginPath();\n        ctx.arc(x,y,20,0,Math.PI*2,true);\n        ctx.fill();\n\n        ctx.beginPath();\n        ctx.moveTo(x,y-1);\n        ctx.lineTo(x,y+1);\n        ctx.stroke();\n        ctx.moveTo(x-1,y);\n        ctx.lineTo(x+1,y);\n        ctx.stroke();\n\n        //ctx.fill();\n        //ctx.beginPath();\n        //ctx.moveTo(width / 2 , 0);\n        //ctx.lineTo(width / 2, width);\n    };\n\n    fabric.CursorRenderer = CursorRenderer;\n})();\n"]}